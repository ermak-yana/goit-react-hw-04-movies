{"version":3,"sources":["views/Reviews.js","views/Reviews.module.css"],"names":["Reviews","movieId","useParams","useState","reviews","setReviews","Status","IDLE","status","setStatus","error","setError","useEffect","moviesApi","getMovieReviews","then","results","length","Error","RESOLVED","catch","REJECTED","className","s","item","map","review","text","author","noReview","content","id","message","module","exports"],"mappings":"4PAMe,SAASA,IACtB,IAAQC,EAAYC,cAAZD,QACR,EAA8BE,mBAAS,MAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA4BF,mBAASG,IAAOC,MAA5C,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA0BN,mBAAS,MAAnC,mBAAOO,EAAP,KAAcC,EAAd,KAkBA,OAhBAC,qBAAU,WACRC,IACGC,gBAAgBb,GAChBc,MAAK,SAACC,GACL,GAAuB,IAAnBA,EAAQC,OACV,MAAM,IAAIC,MAAM,sDAElBb,EAAWW,GACXP,EAAUH,IAAOa,aAElBC,OAAM,SAACV,GACNC,EAASD,GACTD,EAAUH,IAAOe,eAEpB,CAACpB,IAGF,qCACGO,IAAWF,IAAOa,UACjB,oBAAIG,UAAWC,IAAEC,KAAjB,SACGpB,EAAQqB,KAAI,SAACC,GAAD,OACX,qBAAoBJ,UAAWC,IAAEI,KAAjC,UACE,oBAAIL,UAAWC,IAAEI,KAAjB,SAAwBD,EAAOE,SAC/B,mBAAGN,UAAWC,IAAEM,SAAhB,SAA2BH,EAAOI,YAF3BJ,EAAOK,SAQrBvB,IAAWF,IAAOe,UAAY,4BAAIX,EAAMsB,e,oBCxC/CC,EAAOC,QAAU,CAAC,KAAO,sBAAsB,KAAO,sBAAsB,SAAW","file":"static/js/reviews.a51e856f.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport moviesApi from \"../services/moviesApi\";\r\nimport s from \"./Reviews.module.css\";\r\nimport Status from \"../services/status\";\r\n\r\nexport default function Reviews() {\r\n  const { movieId } = useParams();\r\n  const [reviews, setReviews] = useState(null);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    moviesApi\r\n      .getMovieReviews(movieId)\r\n      .then((results) => {\r\n        if (results.length === 0) {\r\n          throw new Error(\"Sorry. We don't have any reviews on this movie yet\");\r\n        }\r\n        setReviews(results);\r\n        setStatus(Status.RESOLVED);\r\n      })\r\n      .catch((error) => {\r\n        setError(error);\r\n        setStatus(Status.REJECTED);\r\n      });\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <>\r\n      {status === Status.RESOLVED && (\r\n        <ul className={s.item}>\r\n          {reviews.map((review) => (\r\n            <li key={review.id} className={s.text}>\r\n              <h2 className={s.text}>{review.author}</h2>\r\n              <p className={s.noReview}>{review.content}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n\r\n      {status === Status.REJECTED && <p>{error.message}</p>}\r\n    </>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Reviews_item__2da4q\",\"text\":\"Reviews_text__-gnX_\",\"noReview\":\"Reviews_noReview__2ufse\"};"],"sourceRoot":""}